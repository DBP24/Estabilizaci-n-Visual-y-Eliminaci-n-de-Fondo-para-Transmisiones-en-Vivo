{% extends 'layouts/full_nav.html' %}


{% block content %}
<div class="container">
    <div class="row">

        <div class="col-md-12 mt-3">    
            <h3>Lista de Certificados Procesados</h3>
        </div>
        <hr>
        <div class="col-md-12">
        <table class="table table-striped display" id="certificate" style="width:100%">
            <thead>
                <tr>
                    <th>Descripci√≥n de Documento</th>
                    <th>Acciones</th>
                </tr>
            </thead>
        
            <tbody>
                {% for file in files %}
                <tr>
                    <td><p>{{ file }}</p></td>
                    <td><a href="{% url 'certificate:download_certificate' filename=file %}">Descargar</a></td>
                   
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2">No hay certificados disponibles.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
        
    </div>
</div>



{% endblock %}

{% block script %}
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        try {
            new DataTable('#certificate', {
                language: {
                    url: 'https://cdn.datatables.net/plug-ins/2.1.2/i18n/es-ES.json'
                }
            });
            console.log('DataTable inicializada correctamente.');
        } catch (error) {
            console.error('Error al inicializar DataTable:', error);
        }
    });
</script>
{% endblock %}